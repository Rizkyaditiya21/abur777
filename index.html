<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <title>SLOT VEGAS</title>
  <style>
    body{
      margin:0;
      background:black;
      color:white;
      font-family:Arial,sans-serif;
      text-align:center;
      padding-top:80px;
    }
    input,button{
      padding:12px;
      font-size:16px;
      border-radius:8px;
      margin:8px;
    }
    button{
      background:gold;
      border:none;
      cursor:pointer;
    }
    .slot{display:flex;justify-content:center;gap:10px;margin:15px 0;}
    .reel{width:60px;font-size:40px;background:#111;border:2px solid gold;padding:10px;border-radius:10px;}
  </style>
</head>
<body>

<h1>ğŸ° SLOT VEGAS</h1>

<div id="loginArea">
  <input type="text" id="username" placeholder="Masukkan Username">
  <button onclick="login()">LOGIN</button>
</div>

<div id="gameArea" style="display:none;">
  <p>User: <span id="userDisplay"></span></p>
  <p>Saldo: <span id="balance">1000</span></p>
  <p>Level: <span id="level">1</span></p>
  <p>Bonus: <span id="bonus">0</span></p>

  Bet: <input type="number" id="bet" value="100" min="10">

  <div class="slot">
    <div class="reel" id="r1">ğŸ’</div>
    <div class="reel" id="r2">ğŸ’</div>
    <div class="reel" id="r3">ğŸ”¥</div>
    <div class="reel" id="r4">ğŸ‘‘</div>
    <div class="reel" id="r5">ğŸ€</div>
  </div>

  <button onclick="spin()">SPIN</button>
  <p id="result"></p>
</div>

<script>
let balance = 1000, level=1, bonus=0, winCount=0;
let symbols=["ğŸ’","ğŸ’","ğŸ”¥","ğŸ‘‘","ğŸ€","7ï¸âƒ£"];

function login(){
  let user=document.getElementById("username").value.trim();
  if(user.length<3){alert("Username minimal 3 huruf!");return;}
  localStorage.setItem("slotUser",user);
  startGame(user);
}

function startGame(u){
  document.getElementById("loginArea").style.display="none";
  document.getElementById("gameArea").style.display="block";
  document.getElementById("userDisplay").innerText=u;
}

window.onload=function(){
  let u=localStorage.getItem("slotUser");
  if(u) startGame(u);
}

function spin(){
  let bet=parseInt(document.getElementById("bet").value);
  if(isNaN(bet)||bet<10){alert("Bet minimal 10!");return;}

  if(bonus>0) bonus--;
  else if(balance<bet){alert("Saldo habis!");return;}
  else balance-=bet;

  document.getElementById("balance").innerText=balance;

  let res=[];
  for(let i=1;i<=5;i++){
    let s=symbols[Math.floor(Math.random()*symbols.length)];
    document.getElementById("r"+i).innerText=s;
    res.push(s);
  }

  let counts={},maxv=0;
  res.forEach(x=>{counts[x]=(counts[x]||0)+1;maxv=Math.max(maxv,counts[x]);});
  
  if(maxv>=3){
    let won=bet*maxv;
    balance+=won;winCount++;
    document.getElementById("result").innerText="Menang x"+maxv+" +"+won;
    if(winCount%5==0){level++;bonus+=2;alert("LEVEL UP! Bonus 2 spin ğŸ");}
  } else document.getElementById("result").innerText="Coba lagi!";

  document.getElementById("balance").innerText=balance;
  document.getElementById("level").innerText=level;
  document.getElementById("bonus").innerText=bonus;
}
</script>

</body>
</html>
